"use strict";(self.webpackChunkreact_antd_admin_wpk=self.webpackChunkreact_antd_admin_wpk||[]).push([[502],{7502:(e,s,r)=>{r.r(s),r.d(s,{default:()=>d});r(4956);var n=r(6478),t=r(2916),a=r(8594),o=r(7904),i=r(9031),l=r(921),c=r.n(l),u=r(8445);c().interceptors.request.use((e=>{if("/login"!==e.url&&"/captcha"!==e.url){const s=(0,u.Lg)("token");s&&(e.headers.Authorization=s)}return e}),(e=>Promise.reject(e))),c().interceptors.response.use((e=>e),(e=>Promise.reject(e)));var m=r(7280);function d(){const{userStore:e}=(0,i.P)();return(0,m.jsx)("div",{className:"container",children:(0,m.jsxs)(t.A,{className:"box",name:"basic",labelCol:{span:7},wrapperCol:{span:12},onFinish:s=>{const{username:r,password:t}=s;"user"!==r&&"admin"!==r?n.Ay.error("\u7528\u6237\u540d\u9519\u8bef\uff01\u8bf7\u68c0\u67e5"):function(e){const{username:s}=e;return new Promise(((e,r)=>{setTimeout((()=>{e({role:s,name:"user"===s?"\u840c\u65b0\u7528\u6237":"\u8d85\u7ea7\u7ba1\u7406\u5458",token:"Aaasfasgl1243124wdgwegwe"})}),2e3)}))}({username:r,password:t}).then((s=>{null===e||void 0===e||e.setUserInfo(s),(0,u.ZB)("token",s.token),n.Ay.success("\u6b22\u8fce ".concat(s.name,"\u767b\u5f55~~")),window.location.href="#/homepage"}))},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,m.jsx)(t.A.Item,{label:"\u8d26\u53f7",name:"username",style:{marginTop:"50px"},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7\uff01"}],children:(0,m.jsx)(a.A,{placeholder:"user or admin"})}),(0,m.jsx)(t.A.Item,{label:"\u5bc6\u7801",name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}],children:(0,m.jsx)(a.A.Password,{placeholder:"\u5bc6\u7801\u968f\u4fbf\u8f93"})}),(0,m.jsx)(t.A.Item,{wrapperCol:{offset:11,span:16},children:(0,m.jsx)(o.A,{className:"login",type:"primary",htmlType:"submit",children:"Login"})})]})})}},8445:(e,s,r)=>{function n(e){return sessionStorage.getItem(e)}function t(e,s){return sessionStorage.setItem(e,s)}function a(e){return localStorage.getItem(e)}function o(e,s){return localStorage.setItem(e,s)}r.d(s,{Ht:()=>n,Lg:()=>a,Nq:()=>t,ZB:()=>o})}}]);
//# sourceMappingURL=502.d3b21af3.chunk.js.map